<!DOCTYPE html>
<html>

<head>
	<title>d3-ez : Reusable Components</title>
	<script src="https://d3js.org/d3.v4.min.js"></script>
	<script src="../test/d3-ez.js"></script>
	<link rel="stylesheet" type="text/css" href="../build/d3-ez.css" />
</head>

<body>
	<svg id="holder" width=300 height=100></svg>

	<script type="text/javascript">

		// Generate some data
		var data = {
			"key": "Fruit",
			"values": [
				{"key": "Apples", "value": 9},
				{"key": "Oranges", "value": 3},
				{"key": "Grapes", "value": 5},
				{"key": "Bananas", "value": 7}
			]
		};

		var width = 300;
		var height = 100;

		var maxValue = d3.max(data.values, function(d) {
      return d.value;
    });
    var categoryNames = d3.values(data)[1].map(function(d) {
      return d.key;
    });

		// X & Y Scales
    var xScale = d3.scaleBand()
      .domain(categoryNames)
			.rangeRound([0, width])
			.padding(0.15);

    var yScale = d3.scaleLinear()
      .domain([0, maxValue])
      .range([height, 0]);

    // X & Y Axis
    var xAxis = d3.axisBottom(xScale);
    var yAxis = d3.axisLeft(yScale);

		var colors = ["#fb0007", "#fdb409", "#ffff0b", "#c3ff28"];
		var colorScale = d3.scaleOrdinal()
			.range(colors)
			.domain(categoryNames);

		// Configure chart component
		var barChart = d3.ez.component.barChart()
			.width(width)
			.height(height)
			.colorScale(colorScale)
			.yScale(yScale)
			.xScale(xScale);

		// Attach data and chart to 'chartholder' element
		d3.select("#holder")
			.datum(data)
			.call(barChart);

	</script>
</body>

</html>
