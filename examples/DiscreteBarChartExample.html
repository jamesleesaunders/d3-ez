<!DOCTYPE html>
<html>
<head>
  <title>D3.EZ : Reusable Discrete Bar Chart Example</title>
  <script src="../../d3/d3.min.js"></script>
  <script src="../src/d3.ez.js"></script>
  <link rel="stylesheet" type="text/css" href="../d3.ez.css">
</head>
<body>
  <svg id="chartholder" width="800" height="500" class="d3ez"></svg>
  <br />
  <div>Value: <span id="message"></span></div>

  <script type="text/javascript">
  // Generate some data
  function randomDataset() {
    var _randomNum = function() {
      return Math.floor(Math.random() * 100) + 10;
    };
    var data = {
      "key": "Languages",
      "values": [
        {"key": "JavaScript", "value": _randomNum() + 10},
        {"key": "C++", "value": _randomNum()},
        {"key": "Java", "value": _randomNum()},
        {"key": "Ruby", "value": _randomNum()},
        {"key": "Python", "value": _randomNum()},
        {"key": "PHP", "value": _randomNum()},
        {"key": "Perl", "value": _randomNum()},
        {"key": "Basic", "value": _randomNum()},
        {"key": "Assembly", "value": _randomNum()}
      ]
    };
    return data;
  }

  var legend = d3.ez.legend()
    .title('Top 10')
    .width(230)
    .height(220);

  var colors = d3.ez.colors.diverging(3);

  // Create Column Chart object
  var myChart = d3.ez.discreteBarChart()
    .width(650)
    .height(400)
    .colors(colors)
    .on("customHover", function(d, i) {
      d3.select("#message").text(d.value);
    });

  // Add to page
  //function update() {
    var data = randomDataset();

    d3.select("#chartholder")
      .datum(data)
      .call(myChart);
  //}

  //update();
  //setInterval(update, 2000);

  </script>
</body>
</html>
