<!DOCTYPE html>
<html>

<head>
	<title>D3.EZ : Circular Heat Chart Example</title>
	<script src="https://d3js.org/d3.v3.min.js"></script>
	<script src="../src/d3.ez.js"></script>
	<link rel="stylesheet" type="text/css" href="../d3.ez.css">
</head>

<body>
	<div id="chartholder"></div>
	<br />
	<div>Value: <span id="message"></span></div>

	<script type="text/javascript">
		// Generate some data
		function randomDataset() {
			var _randomNum = function() {
				return Math.floor(Math.random() * 10);
			};

			var data = [{
					key: "asfd",
					values: [{
							key: "brig",
							value: _randomNum()
						},
						{
							key: "cosh",
							value: _randomNum()
						},
						{
							key: "popl",
							value: _randomNum()
						},
						{
							key: "winn",
							value: _randomNum()
						}
					]
				},
				{
					key: "brig",
					values: [{
							key: "asfd",
							value: _randomNum()
						},
						{
							key: "cosh",
							value: _randomNum()
						},
						{
							key: "popl",
							value: _randomNum()
						},
						{
							key: "winn",
							value: _randomNum()
						}
					]
				},
				{
					key: "cosh",
					values: [{
							key: "asfd",
							value: _randomNum()
						},
						{
							key: "brig",
							value: _randomNum()
						},
						{
							key: "popl",
							value: _randomNum()
						},
						{
							key: "winn",
							value: _randomNum()
						}
					]
				},
				{
					key: "popl",
					values: [{
							key: "asfd",
							value: _randomNum()
						},
						{
							key: "brig",
							value: _randomNum()
						},
						{
							key: "cosh",
							value: _randomNum()
						},
						{
							key: "winn",
							value: _randomNum()
						}
					]
				},
				{
					key: "winn",
					values: [{
							key: "asfd",
							value: _randomNum()
						},
						{
							key: "brig",
							value: _randomNum()
						},
						{
							key: "cosh",
							value: _randomNum()
						},
						{
							key: "popl",
							value: _randomNum()
						}
					]
				}
			];
			return data;
		}

        var colors = ["#c3ff28", "#ffff0b", "#fdb409", "#f38337", "#fb0007"];
		var chart = d3.ez.circularHeatChart().colors(colors);
		var legend = d3.ez.legend().title('Widget Counts');
		var title = d3.ez.title().mainText("Town to Town Stats").subText("Number of widgets between UK towns");

		// Create chart object
		var myChart = d3.ez.base()
			.width(750)
			.height(550)
			.chart(chart)
			.legend(legend)
			.title(title)
			.on("customMouseOver", function(d, i) {
			  	d3.select("#message").text(d.key);
			});

		d3.select('#chartholder')
			.datum(randomDataset())
			.call(myChart);

	</script>
</body>

</html>
