d3.ez={version:"1.5.5",author:"James Saunders",copyright:"Copyright (C) 2015 James Saunders",license:"GPLv3"};d3.ez.radialBarChart=function module(){var k;var l=400;var j=300;var i={top:20,right:20,bottom:20,left:20};var m=100;var r=false;var f=d3.ez.colors.categorical(4);var n=false;var t=[0,100];var a=undefined;var q=false;var e=[];var p={ease:"bounce",duration:500};var c="radialBarChart";var d=null;var s=null;var h=null;var b=0;function o(u){s=d3.scale.linear().domain(t).range([0,m]);h=d3.map(u[0].data).keys();d=h.length;b=m*1.025}function g(u){u.each(function(z){l=2*m+50;j=2*m+50;var D=l-i.left-i.right;var x=j-i.top-i.bottom;o(z);if(r){z.reverse()}if(!k){k=d3.select(this).append("svg").classed("d3ez",true).classed(c,true);var v=k.append("g").classed("container",true);v.append("g").classed("tickCircles",true);v.append("g").classed("layers",true);v.append("g").classed("spokes",true);v.append("g").classed("axis",true);v.append("circle").classed("outerCircle",true);v.append("g").classed("labels",true)}k.transition().attr({width:l,height:j});k.select(".container").attr("transform","translate("+(i.left+m)+","+(i.top+m)+")");tickCircles=d3.select(".tickCircles").selectAll("circle").data(e).enter().append("circle").attr("r",function(E){return s(E)}).style("fill","none");var y=d3.select(".layers").selectAll("g.layer").data(z);y.enter().append("g").attr("class",function(F,E){return"layer-"+E}).classed("layer",true);y.exit().remove();var A=y.selectAll("path").data(function(F){var E=d3.map(F.data);return E.values()});A.enter().append("path").style("fill",function(F,E){if(!f){return}return f[E%f.length]});A.exit().remove();A.transition().ease(p.ease).duration(p.duration).attr("d",d3.svg.arc().innerRadius(0).outerRadius(or).startAngle(sa).endAngle(ea));spokes=d3.select(".spokes").selectAll("line").data(h).enter().append("line").attr("y2",-m).attr("transform",function(F,E){return"rotate("+(E*360/d)+")"});var C=d3.scale.linear().domain(t).range([0,-m]);var w=d3.svg.axis().scale(C).orient("right");if(a){w.tickValues(a)}w=d3.select(".axis").call(w);outerCircle=d3.select(".outerCircle").attr("r",m).style("fill","none");var B=d3.select(".labels");B.append("def").append("path").attr("id","label-path").attr("d","m0 "+-b+" a"+b+" "+b+" 0 1,1 -0.01 0");B.selectAll("text").data(h).enter().append("text").style("text-anchor","middle").style("fill",function(F,E){return q?barColors[E%barColors.length]:null}).append("textPath").attr("xlink:href","#label-path").attr("startOffset",function(F,E){return E*100/d+50/d+"%"}).text(function(E){return n?E.toUpperCase():E})})}or=function(v,u){return s(v)};sa=function(v,u){return(u*2*Math.PI)/d};ea=function(v,u){return((u+1)*2*Math.PI)/d};g.margin=function(u){if(!arguments.length){return i}i=u;return g};g.barHeight=function(u){if(!arguments.length){return m}m=u;return g};g.reverseLayerOrder=function(u){if(!arguments.length){return r}r=u;return g};g.colors=function(u){if(!arguments.length){return f}f=u;return g};g.capitalizeLabels=function(u){if(!arguments.length){return n}n=u;return g};g.domain=function(u){if(!arguments.length){return t}t=u;return g};g.tickValues=function(u){if(!arguments.length){return a}a=u;return g};g.colorLabels=function(u){if(!arguments.length){return q}q=u;return g};g.tickCircleValues=function(u){if(!arguments.length){return e}e=u;return g};g.transition=function(u){if(!arguments.length){return p}p=u;return g};return g};d3.ez.circularHeatChart=function module(){var g;var b=800;var l=800;var c={top:20,right:20,bottom:20,left:20};var h=50;var i=24;var a=20;var d=null;var f=["white","red"];var e=function(n){return n};var k=segmentLabels=[];var m="circularHeatChart";function j(n){n.each(function(x){var w=h+Math.ceil(x.length/i)*a;if(!g){g=d3.select(this).append("svg").classed("d3ez",true).classed(m,true);var q=g.append("g").classed("container",true);q.append("g").classed("segments",true);q.append("g").classed("radialLabels",true);q.append("g").classed("segmentLabels",true)}g.transition().attr({width:b,height:l});g.select(".container").attr("transform","translate("+parseInt(c.left+w)+","+parseInt(c.top+w)+")");var u=false;if(d===null){d=d3.extent(x,e);u=true}var v=d3.scale.linear().domain(d).range(f);if(u){d=null}d3.select(".segments").selectAll("path").data(x).enter().append("path").attr("d",d3.svg.arc().innerRadius(ir).outerRadius(or).startAngle(sa).endAngle(ea)).attr("fill",function(r){return v(e(r))});var s=d3.selectAll(".circular-heat")[0].length;var t=0.01;var z=d3.select(".radialLabels").classed("labels",true);z.selectAll("def").data(k).enter().append("def").append("path").attr("id",function(A,r){return"radial-label-path-"+s+"-"+r}).attr("d",function(C,A){var B=h+((A+0.2)*a);return"m"+B*Math.sin(t)+" -"+B*Math.cos(t)+" a"+B+" "+B+" 0 1 1 -1 0"});z.selectAll("text").data(k).enter().append("text").append("textPath").attr("xlink:href",function(A,r){return"#radial-label-path-"+s+"-"+r}).text(function(r){return r});var y=2;var o=h+Math.ceil(x.length/i)*a+y;var p=d3.select(".segmentLabels").classed("labels",true);p.append("def").append("path").attr("id","segment-label-path-"+s).attr("d","m0 -"+o+" a"+o+" "+o+" 0 1 1 -1 0");p.selectAll("text").data(segmentLabels).enter().append("text").append("textPath").attr("xlink:href","#segment-label-path-"+s).attr("startOffset",function(A,r){return r*100/i+"%"}).text(function(r){return r})})}ir=function(o,n){return h+Math.floor(n/i)*a};or=function(o,n){return h+a+Math.floor(n/i)*a};sa=function(o,n){return(n*2*Math.PI)/i};ea=function(o,n){return((n+1)*2*Math.PI)/i};j.margin=function(n){if(!arguments.length){return c}c=n;return j};j.innerRadius=function(n){if(!arguments.length){return h}h=n;return j};j.numSegments=function(n){if(!arguments.length){return i}i=n;return j};j.segmentHeight=function(n){if(!arguments.length){return a}a=n;return j};j.domain=function(n){if(!arguments.length){return d}d=n;return j};j.range=function(n){if(!arguments.length){return f}f=n;return j};j.radialLabels=function(n){if(!arguments.length){return k}if(n==null){n=[]}k=n;return j};j.segmentLabels=function(n){if(!arguments.length){return segmentLabels}if(n==null){n=[]}segmentLabels=n;return j};j.accessor=function(n){if(!arguments.length){return e}e=n;return j};return j};d3.ez.discreteBarChart=function module(){var d;var b=400;var i=300;var c={top:20,right:20,bottom:20,left:40};var f={ease:"bounce",duration:500};var a=d3.ez.colors.categorical(4);var g=0;var j="discreteBarChart";var e=d3.dispatch("customHover");function h(k){k.each(function(t){var x=b-c.left-c.right;var s=i-c.top-c.bottom;var o=d3.values(t)[0];var w=d3.max(t.values,function(A){return A.value});var u=d3.values(t)[1].map(function(A){return A.key});var z=d3.scale.ordinal().domain(u).rangeRoundBands([0,x],0.1);var r=d3.scale.linear().domain([0,w]).range([s,0]);var q=d3.svg.axis().scale(z).orient("bottom");var n=d3.svg.axis().scale(r).orient("left");var v=d3.scale.ordinal().domain(u).range(a);if(!d){d=d3.select(this).append("svg").classed("d3ez",true).classed(j,true);var m=d.append("g").classed("container",true);m.append("g").classed("chart",true);m.append("g").classed("x-axis axis",true);m.append("g").classed("y-axis axis",true)}d.transition().attr({width:b,height:i});d.select(".container").attr({transform:"translate("+c.left+","+c.top+")"});d.select(".x-axis").attr({transform:"translate(0,"+s+")"}).call(q);d.select(".y-axis").call(n);ylabel=d.select(".y-axis").selectAll(".y-label").data([t.key]);ylabel.enter().append("text").classed("y-label",true).attr("transform","rotate(-90)").attr("y",-35).attr("dy",".71em").style("text-anchor","end");ylabel.transition().text(function(A){return(A)});var p=z.rangeBand()/100*g;var l=z.rangeBand()-p;var y=d.select(".chart").selectAll(".bar").data(t.values);y.enter().append("rect").attr("class",function(A){return A.key+" bar"}).attr("fill",function(A){return v(A.key)}).attr({width:l,x:function(B,A){return z(B.key)+p/2},y:s,height:0}).on("mouseover",e.customHover);y.transition().ease(f.ease).duration(f.duration).attr({width:l,x:function(B,A){return z(B.key)+p/2},y:function(B,A){return r(B.value)},height:function(B,A){return s-r(B.value)}});y.exit().transition().style({opacity:0}).remove()})}h.width=function(k){if(!arguments.length){return b}b=k;return this};h.height=function(k){if(!arguments.length){return i}i=k;return this};h.colors=function(k){if(!arguments.length){return a}a=k;return this};h.transition=function(k){if(!arguments.length){return f}f=k;return this};d3.rebind(h,e,"on");return h};d3.ez.groupedBarChart=function module(){var e;var c=400;var k=300;var d={top:20,right:70,bottom:20,left:40};var h={ease:"bounce",duration:500};var a=d3.ez.colors.categorical(4);var i=0;var b=null;var f="clustered";var l="groupedBarChart";var g=d3.dispatch("customHover");function j(m){m.each(function(F){var w=c-d.left-d.right;var A=k-d.top-d.bottom;var v=F.map(function(I){return I.key});var p=[];F.map(function(I){return I.values})[0].forEach(function(J,I){p[I]=J.key});var C=[];var G=[];var D=0;d3.map(F).values().forEach(function(I){grp=I.key;I.values.forEach(function(J){C[J.key]=(typeof(C[J.key])==="undefined"?0:C[J.key]);C[J.key]+=J.value;G[grp]=(typeof(G[grp])==="undefined"?0:G[grp]);G[grp]+=J.value;D=(J.value>D?J.value:D)})});var t=d3.max(d3.values(G));var H=d3.scale.ordinal().rangeRoundBands([0,w],0.1).domain(v);var q=d3.scale.linear().range([A,0]).domain([0,(f=="stacked"?t:D)]);var x=d3.svg.axis().scale(H).orient("bottom");var n=d3.svg.axis().scale(q).orient("left");var E=d3.scale.ordinal().range(a).domain(p);if(!e){e=d3.select(this).append("svg").classed("d3ez",true).classed(l,true);var y=e.append("g").classed("container",true);y.append("g").classed("chart",true);y.append("g").classed("x-axis axis",true);y.append("g").classed("y-axis axis",true).append("text").attr("transform","rotate(-90)").attr("y",-35).attr("dy",".71em").style("text-anchor","end").text(b)}e.transition().attr({width:c,height:k});e.select(".container").attr({transform:"translate("+d.left+","+d.top+")"});e.select(".x-axis").attr({transform:"translate(0,"+A+")"}).call(x);e.select(".y-axis").call(n);var u=e.select(".chart").selectAll(".barGroup").data(F);u.enter().append("g").attr("class","barGroup").attr("transform",function(J,I){return"translate("+H(J.key)+", 0)"}).on("mouseover",g.customHover);var z=u.selectAll(".bar").data(function(J){series=[];var I=0;d3.map(J.values).values().forEach(function(L,K){series[K]={name:L.key,value:L.value,y0:I,y1:I+L.value};I+=L.value});return series});if(f=="stacked"){var r=H.rangeBand()/100*i;var s=H.rangeBand()-r;z.enter().append("rect").classed("bar",true).attr("class",function(I){return I.name+" bar"}).attr({width:s,x:0,y:A,height:0}).attr("fill",function(I){return E(I.name)});z.transition().ease(h.ease).duration(h.duration).attr({width:s,x:0,y:function(I){return q(I.y1)},height:function(I){return q(I.y0)-q(I.y1)}}).attr("fill",function(I){return E(I.name)});z.exit().transition().style({opacity:0}).remove()}else{if(f=="clustered"){var B=d3.scale.ordinal().rangeRoundBands([0,H.rangeBand()]).domain(p);z.enter().append("rect").classed("bar",true).attr({width:B.rangeBand(),x:function(I){return B(I.name)},y:A,height:0}).attr("fill",function(I){return E(I.name)});z.transition().ease(h.ease).duration(h.duration).attr({width:B.rangeBand(),x:function(I){return B(I.name)},y:function(I){return q(I.value)},height:function(I){return A-q(I.value)}}).attr("fill",function(I){return E(I.name)});z.exit().transition().style({opacity:0}).remove()}}var o=e.selectAll(".legend").data(p.slice().reverse()).enter().append("g").attr("class","legend").attr("transform",function(J,I){return"translate(0,"+I*20+")"});o.append("rect").attr("x",c-18).attr("width",18).attr("height",18).style("fill",E);o.append("text").attr("x",c-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text(function(I){return I})})}j.width=function(m){if(!arguments.length){return c}c=m;return this};j.height=function(m){if(!arguments.length){return k}k=m;return this};j.margin=function(m){if(!arguments.length){return d}d=m;return this};j.yAxisLabel=function(m){if(!arguments.length){return b}b=m;return this};j.groupType=function(m){if(!arguments.length){return f}f=m;return this};j.transition=function(m){if(!arguments.length){return h}h=m;return this};j.colors=function(m){if(!arguments.length){return a}a=m;return this};d3.rebind(j,g,"on");return j};d3.ez.punchCard=function module(){var e;var a=400;var k=300;var c={top:20,right:80,bottom:20,left:20};var f=9;var j=2;var d="steelblue";var b=d3.format("0000");var i=true;var l="punchCard";var g=d3.dispatch("customHover");function h(m){m.each(function(G){var t=a-c.left-c.right;var z=k-c.top-c.bottom;function H(K){var J=d3.select(this).node().parentNode;d3.select(J).selectAll("circle").style("display","none");d3.select(J).selectAll("text.value").style("display","block");g.customHover(K)}function F(K){var J=d3.select(this).node().parentNode;d3.select(J).selectAll("circle").style("display","block");d3.select(J).selectAll("text.value").style("display","none")}var q=[];var v=0;G.forEach(function(J){q=q.concat(J.values);v++});var o=[];var C=[];var D=0;G.map(function(J){return J.values})[0].forEach(function(K,J){o[J]=K.key});var p=z/v;var r=d3.extent(q,function(J){return J.value});var I=d3.scale.ordinal().domain(o).rangeRoundBands([0,t],1);var u=d3.svg.axis().scale(I).orient("bottom").ticks(G[0].values.length);var E=d3.scale.linear().domain(d3.extent(q,function(J){return J.value})).range([d3.rgb(d).brighter(),d3.rgb(d).darker()]);if(!e){e=d3.select(this).append("svg").classed("d3ez",true).classed(l,true);var w=e.append("g").classed("container",true);w.append("g").classed("chart",true);w.append("g").classed("x-axis axis",true)}e.transition().attr({width:a,height:k});e.select(".container").attr({transform:"translate("+c.left+","+c.top+")"});e.select(".x-axis").attr({transform:"translate(0,"+z+")"}).call(u);for(var A=0;A<G.length;A++){var n=i?r:[0,d3.max(G[A]["values"],function(J){return J.value})];var s=d3.scale.linear().domain(n).range([j,f]);var B=e.select(".chart").append("g");var y=B.selectAll("circle").data(G[A]["values"]).enter().append("circle").attr("cx",function(K,J){return I(K.key)}).attr("cy",(z-p*2)-(A*p)+p).attr("r",function(J){return s(J.value)}).style("fill",function(J){return E(J.value)});var x=B.selectAll("text").data(G[A]["values"]).enter().append("text").attr("y",(z-p*2)-(A*p)+(p+5)).attr("x",function(K,J){return I(K.key)-4}).attr("class","value").text(function(J){return J.value}).style("fill",function(J){return E(J.value)}).style("display","none");B.append("text").attr("y",(z-p*2)-(A*p)+(p+5)).attr("x",t+p).attr("class","label").text(G[A]["key"]).style("fill",function(J){return d}).style("text-anchor","end").on("mouseover",H).on("mouseout",F)}})}h.width=function(m){if(!arguments.length){return a}a=m;return h};h.height=function(m){if(!arguments.length){return k}k=m;return h};h.margin=function(m){if(!arguments.length){return c}c=m;return this};h.minRadius=function(m){if(!arguments.length){return j}j=m;return h};h.maxRadius=function(m){if(!arguments.length){return f}f=m;rowHeight=(f*2)+2;return h};h.color=function(m){if(!arguments.length){return d}d=m;return h};h.useGlobalScale=function(m){if(!arguments.length){return i}i=m;return h};d3.rebind(h,g,"on");return h};d3.ez.timeSeriesChart=function module(){var e;var a=400;var h=300;var b={top:20,right:20,bottom:20,left:40};var c="steelblue";var d=function(j){return j[0]};var f=function(j){return j[1]};var i="timeSeriesChart";function g(j){j.each(function(q){var s=a-b.left-b.right;var p=h-b.top-b.bottom;q=q.map(function(w,v){return[d.call(q,w,v),f.call(q,w,v)]});var t=d3.time.scale().domain(d3.extent(q,function(v){return v[0]})).range([0,s]);var o=d3.scale.linear().domain([0,d3.max(q,function(v){return v[1]})]).range([p,0]);var n=d3.svg.axis().scale(t).orient("bottom").tickSize(6,0);var l=d3.svg.axis().scale(o).orient("left").tickSize(6,6);var m=d3.svg.area().x(function(v){return t(v[0])}).y1(function(v){return o(v[1])});var u=d3.svg.line().x(function(v){return t(v[0])}).y(function(v){return o(v[1])});if(!e){e=d3.select(this).append("svg").classed("d3ez",true).classed(i,true);var k=e.append("g").classed("container-group",true);k.append("path").classed("chart-area-path",true);k.append("path").classed("chart-line-path",true);k.append("g").classed("x-axis-group axis",true);k.append("g").classed("y-axis-group axis",true)}e.attr("width",a).attr("height",h);var r=e.select("g").attr("transform","translate("+b.left+","+b.top+")");r.select(".x-axis-group.axis").attr("transform","translate(0,"+o.range()[0]+")").call(n);r.select(".y-axis-group.axis").call(l);r.select(".chart-area-path").data([q]).attr("d",m.y0(o.range()[0])).attr("fill",c);r.select(".chart-line-path").data([q]).attr("d",u).attr("fill","none")})}g.width=function(j){if(!arguments.length){return a}a=j;return this};g.height=function(j){if(!arguments.length){return h}h=j;return this};g.margin=function(j){if(!arguments.length){return b}b=j;return this};g.x=function(j){if(!arguments.length){return d}d=j;return this};g.y=function(j){if(!arguments.length){return f}f=j;return this};g.color=function(j){if(!arguments.length){return c}c=j;return this};return g};d3.ez.donutChart=function module(){var l;var n=400;var k=300;var j={top:20,right:90,bottom:20,left:90};var r={ease:"cubic",duration:300};var c=d3.min([(n-(j.right+j.left)),(k-(j.top+j.bottom))])/2;var e=70;var g=d3.ez.colors.categorical(4);var a="donutChart";var o="#FFF";var m=4;var u=true;var q=20;var s="#333";var p=0;var h="#333";var f=1;var b=[0,0,2,8];var d=16;var t=d3.dispatch("customHover");function i(v){v.each(function(y){var G=d3.values(y)[1].map(function(K){return K.value});var J=d3.values(y)[1].map(function(K){return K.key});var C=d3.scale.ordinal().range(g).domain(J);var z=d3.layout.pie().sort(null);var w=d3.svg.arc().innerRadius(e).outerRadius(c);var H=d3.svg.arc().innerRadius(c*0.9).outerRadius(c*0.9);function D(L){var K=d3.interpolate(this._current,L);this._current=K(0);return function(M){return w(K(M))}}function x(K){return K.startAngle+(K.endAngle-K.startAngle)/2}var F=function(L,K){return y.values[K].key};A=d3.select(this).select("svg > g");if(A.empty()){var A=d3.select(this).append("svg").classed("d3ez",true).classed(a,true);A.attr("width",n).attr("height",k);A.append("g").attr("class","slices").attr("transform","translate("+n/2+","+k/2+")");A.append("g").attr("class","labels").attr("transform","translate("+n/2+","+k/2+")");A.append("g").attr("class","lines").attr("transform","translate("+n/2+","+k/2+")")}var E=d3.select(".slices").selectAll("path.slice").data(z(G));E.enter().append("path").attr("class","slice").attr("fill",function(L,K){return C(y.values[K].key)}).attr("d",w).each(function(K){this._current=K}).on("mouseover",t.customHover);E.transition().ease(r.ease).duration(r.duration).attrTween("d",D);E.exit().remove();var B=d3.select(".labels").selectAll("text.label").data(z(G),F);B.enter().append("text").attr("class","label").attr("dy",".35em");B.transition().duration(r.duration).text(function(L,K){return y.values[K].key}).attrTween("transform",function(L){this._current=this._current||L;var K=d3.interpolate(this._current,L);this._current=K(0);return function(M){var N=K(M);var O=H.centroid(N);O[0]=c*(x(N)<Math.PI?1.2:-1.2);return"translate("+O+")"}}).styleTween("text-anchor",function(L){this._current=this._current||L;var K=d3.interpolate(this._current,L);this._current=K(0);return function(M){var N=K(M);return x(N)<Math.PI?"start":"end"}});B.exit().remove();var I=d3.select(".lines").selectAll("polyline.line").data(z(G));I.enter().append("polyline").attr("class","line");I.transition().duration(r.duration).attrTween("points",function(L){this._current=this._current||L;var K=d3.interpolate(this._current,L);this._current=K(0);return function(M){var N=K(M);var O=H.centroid(N);O[0]=c*0.95*(x(N)<Math.PI?1.2:-1.2);return[w.centroid(N),H.centroid(N),O]}});I.exit().remove()})}i.width=function(v){if(!arguments.length){return n}n=v;c=d3.min([(n-(j.right+j.left)),(k-(j.top+j.bottom))])/2;return this};i.height=function(v){if(!arguments.length){return k}k=v;c=d3.min([(n-(j.right+j.left)),(k-(j.top+j.bottom))])/2;return this};i.margin=function(v){if(!arguments.length){return j}j=v;return this};i.radius=function(v){if(!arguments.length){return c}c=v;return this};i.innerRadius=function(v){if(!arguments.length){return e}e=v;return this};i.colors=function(v){if(!arguments.length){return g}g=v;return this};i.transition=function(v){if(!arguments.length){return r}r=v;return this};d3.rebind(i,t,"on");return i};d3.ez.htmlTable=function module(){var c;var e="htmlTable";var b=800;var a=d3.dispatch("customHover");function d(f){f.each(function(k){var j=k.map(function(m){return m.key});var l=[];k.map(function(m){return m.values})[0].forEach(function(n,m){l[m]=n.key});if(!c){c=d3.select(this).append("table").classed("d3ez",true).classed(e,true).attr("width",b)}else{c.selectAll("*").remove()}var i=c.append("thead");var h=c.append("tfoot");var g=c.append("tbody");hdr=i.append("tr");hdr.selectAll("th").data(function(){return[""].concat(l)}).enter().append("th").html(function(m){return m});rows=g.selectAll("tr").data(k).enter().append("tr").attr("class",function(m){return m.key}).on("mouseover",a.customHover);rows.append("th").html(function(m){return m.key});rows.selectAll("td").data(function(m){return m.values}).enter().append("td").attr("class",function(m){return m.key}).html(function(m){return m.value})})}d.width=function(f){if(!arguments.length){return b}b=f;return this};d.classed=function(f){if(!arguments.length){return e}e=f;return this};d3.rebind(d,a,"on");return d};d3.ez.htmlList=function module(){var b;var d="htmlList";var a=d3.dispatch("customHover");function c(e){e.each(function(g){if(g.constructor!==Array){g=[g]}if(!b){b=d3.select(this).append("ul").classed("d3ez",true).classed(d,true)}else{b.selectAll("*").remove()}b.selectAll("li").data(g).enter().append("li").text(function(i){return i.key}).on("click",f);function f(k){d3.event.stopPropagation();a.customHover(k);if(typeof k.values==="undefined"){return 0}var j=d3.select(this).on("click",h).append("ul");var i=j.selectAll("li").data(k.values).enter().append("li").text(function(l){if(typeof l.value!=="undefined"){return l.key+" : "+l.value}else{return l.key}}).on("click",f)}function h(i){d3.event.stopPropagation();d3.select(this).on("click",f).selectAll("*").remove()}})}c.classed=function(e){if(!arguments.length){return d}d=e;return this};d3.rebind(c,a,"on");return c};d3.ez.labeledNode=function module(){var b="steelblue";var c=1;var h="#000000";var e=0;var d=8;var f=null;var i=10;function g(m,j){var l=a(m);var k=d3.select(this).attr("class","node");k.append("circle").attr("fill-opacity",c).attr("r",l).style("stroke",h).style("stroke-width",e).style("fill",b);k.append("text").text(f).attr("dx",l+2).attr("dy",l+6).style("text-anchor","left").style("font-size",i+"px").attr("class","nodetext")}g.color=function(j){if(!arguments.length){return b}b=j;return g};g.opacity=function(j){if(!arguments.length){return c}c=j;return g};g.radius=function(j){if(!arguments.length){return d}d=j;return g};g.label=function(j){if(!arguments.length){return f}f=j;return g};g.fontSize=function(j){if(!arguments.length){return i}i=j;return g};g.stroke=function(j,k){if(!arguments.length){return e+", "+h}e=j;h=k;return g};function a(j){return(typeof d==="function"?d(j):d)}return g};d3.ez.colors={categorical:function(a){switch(a){case 1:return["#5da5da","#faa43a","#60bd68","#f17cb0","#b2912f","#b276b2","#decf3f","#f15854","#4d4d4d"];case 2:return["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"];case 3:return["#3f51b5","#ff9800","#8bc34a","#9c27b0","#ffeb3b","#03a9f4","#f44336","#009688","#795548"];case 4:return(d3.ez.colors.lumShift(d3.ez.colors.lumShift(d3.ez.colors.categorical(3),-0.8),5.5))}},diverging:function(a){switch(a){case 1:return["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"];case 2:return["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"];case 3:return["#0000ff","#8052fe","#b58bfb","#ddc5f7","#fffff0","#ffcfb4","#ff9e7a","#ff6842","#ff0000"]}},sequential:function(f,g){var k=0.1;var b=(k*g)/2;var m=0-b;var h=d3.scale.linear().domain([1,g]).range([m,b]);var n=[];for(var e=1;e<=g;e++){lum=h(e);f=String(f).replace(/[^0-9a-f]/gi,"");if(f.length<6){f=f[0]+f[0]+f[1]+f[1]+f[2]+f[2]}var a="#";var l;for(var d=0;d<3;d++){l=parseInt(f.substr(d*2,2),16);l=Math.round(Math.min(Math.max(0,l+(l*lum)),255)).toString(16);a+=("00"+l).substr(l.length)}n.push(a)}return n},lumShift:function(c,b){var a=[];c.forEach(function d(h,f){h=String(h).replace(/[^0-9a-f]/gi,"");if(h.length<6){h=h[0]+h[0]+h[1]+h[1]+h[2]+h[2]}b=b||0;var e="#",j,g;for(g=0;g<3;g++){j=parseInt(h.substr(g*2,2),16);j=Math.round(Math.min(Math.max(0,j+(j*b)),255)).toString(16);e+=("00"+j).substr(j.length)}a[f]=e});return a}};